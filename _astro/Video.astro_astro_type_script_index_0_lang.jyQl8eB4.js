import{m as r}from"./util.BDFAf4rN.js";function s(){return document.querySelectorAll("a.media-item > video")}function l(){for(const o of s())o.readyState===4?r.call(o):o.addEventListener("canplaythrough",r)}let i;function e(){i&&window.clearTimeout(i),i=window.setTimeout(function(){const o=window.scrollY;let n=0;for(const t of s())if(t.classList.contains("loading")){n+=1;const a=t.closest("a.media-item");a&&a.offsetTop<window.innerHeight+o+700&&(t.querySelectorAll("source").forEach(d=>{d.src=d.dataset.src??""}),t.classList.remove("loading"),setTimeout(()=>t.load(),0))}n===0&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationChange",e))},20)}document.addEventListener("scroll",e);window.addEventListener("resize",e);window.addEventListener("orientationChange",e);l();
